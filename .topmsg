From: Marc Weber <marco-oweber@gmx.de>
Subject: [PATCH] experimental/multiple-mysqld-instances

Allow instantiating multiple mysql instances.

Usage example:

  # traditional:
  services.mysql.enable = true;
  services.mysql.package = pkgs.mysql57;

  // add additional instance, eg on tmpfs mounted /tmp for developping:
  service.mysql.services.mysql_on_tmp = {
    enable = true;
    port = 3307;
    package = pkgs.mysql57;
    dataDir = "/tmp/mysql";
    socketDir = "/tmp/mysql_tmpfs.socket";
    uid = 20000;
    gid = 20000;
  };
